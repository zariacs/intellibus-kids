# App Flow Document for nutriLab
nutriLab is a web application designed to revolutionize dietary management for patients with Irritable Bowel Syndrome (IBS) by delivering personalized, AI-generated meal plans that are meticulously verified by medical professionals. The application tackles the inefficiencies plaguing traditional healthcare systems, where prolonged wait times and outdated information often hinder timely dietary interventions. With a strong emphasis on real-time data processing, security, and scalability, nutriLab ensures that patients receive prompt, evidence-based meal plans while empowering doctors to review and approve them with ease.

The journey through nutriLab begins with its frontend, crafted using Next.js to provide a responsive and intuitive interface. Patients find it effortless to navigate the app, whether they are entering their medical and dietary details, viewing their tailored meal plans, or downloading reports for future reference. Doctors, meanwhile, benefit from a dedicated portal tailored to their needs, allowing them to efficiently review and approve meal plans. This frontend communicates seamlessly with the backend through RESTful API endpoints, ensuring that data flows smoothly and updates occur in real time.

The process kicks off with user authentication, a secure gateway powered by Clerk. Patients and doctors alike can sign up or log in to access the app’s features. For first-time patients, registration involves entering basic personal details and agreeing to the terms of service, paving the way for a personalized experience. Once authenticated, patients are greeted by a dashboard where they can input comprehensive medical history, including IBS symptoms, known dietary triggers like gluten, and personal food preferences. This rich dataset forms the foundation for creating meal plans uniquely suited to each individual’s needs.

When patients submit their information, it is securely transmitted to the backend, which is powered by FastAPI. The backend takes charge of processing this request and hands the patient’s data over to a specialized AI module tasked with generating a preliminary meal plan. Leveraging a Large Language Model (LLM) paired with a Retrieval-Augmented Generation (RAG) pipeline, the AI crafts meal plans informed by the latest dietary research and clinical guidelines. What keeps this system cutting-edge is its real-time data ingestion feature, tirelessly pulling fresh information from trusted sources such as PubMed and WHO databases. This continuous stream of data is processed and woven into the AI’s knowledge base, ensuring that every meal plan reflects the forefront of nutritional science.

This real-time data ingestion operates as a silent powerhouse in the background, connecting to academic repositories and official health organization APIs to retrieve the latest research papers, dietary recommendations, and clinical insights related to IBS and nutrition. Once ingested, the data is refined by the AI module, which distills key information and updates the RAG pipeline’s knowledge base. This meticulous process guarantees that patients receive meal plans rooted in the most current advancements, offering them care that is both precise and forward-thinking.
After the AI generates a preliminary meal plan, it is stored in the Supabase database, tagged with a “pending” status, signaling that it awaits a doctor’s expert eye. Doctors, upon logging in, are presented with a curated list of pending meal plans assigned to them. They can dive into each one, reviewing the patient’s profile alongside the AI’s suggestions, and make adjustments based on their professional judgment. Once satisfied, the doctor approves the plan, triggering an update in the database to mark it as “approved.”
Patients receive a notification once their meal plan is ready and can access it directly from their dashboard. The approved plan comes complete with daily meal suggestions, nutritional breakdowns, and any tailored instructions from the doctor. For added convenience, patients can download detailed reports to keep for their records or share with other healthcare providers as needed.

Behind the scenes, the backend architecture is thoughtfully modular. The main FastAPI server orchestrates user requests and manages interactions with the Supabase database, while a separate AI service handles the heavy lifting of meal plan generation and real-time data ingestion. When a meal plan is needed, the main backend sends the patient’s data to the AI service through an internal API call. The AI service processes this input, generates the plan, and sends it back to the main backend for storage. This division of responsibilities ensures the system remains scalable, with the flexibility to spin up additional AI service instances as user demand grows.

Reliability is a cornerstone of nutriLab’s design, supported by robust error handling mechanisms. Should the AI service stumble—perhaps due to incomplete data or technical glitches—the backend promptly informs the patient and offers alternatives, such as consulting a doctor directly. Likewise, if the data ingestion process hits a snag, like API rate limits or unexpected data formats, the system logs the issue and retries the operation after a brief pause. These safeguards keep the application stable and dependable, aligning with the hackathon’s SPAIN framework, which prizes performance and reliability.

Security and privacy are non-negotiable in nutriLab. All user data is encrypted and stored safely in Supabase, with access tightly controlled through advanced authentication protocols. The real-time data ingestion feature is engineered for efficiency, ensuring the AI stays current without taxing system performance. By weaving in this real-time capability, nutriLab delivers meal plans grounded in the latest dietary research, minimizing the risks of outdated advice and boosting patient outcomes. This sets it apart from conventional tools that lean on static datasets, offering a dynamic alternative that evolves with science.
In wrapping up, nutriLab stands as a comprehensive solution for IBS patients seeking tailored dietary support. From secure authentication and detailed data entry to AI-powered meal plan creation and doctor validation, the application orchestrates a seamless experience. The real-time data ingestion feature keeps it ahead of the curve, ensuring patients receive top-tier care informed by the latest findings. With its commitment to reliability, performance, and innovation, nutriLab is poised to transform dietary health management, delivering a user-focused, real-time solution that redefines healthcare efficiency.